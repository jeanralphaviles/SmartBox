apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'application'

mainClassName = "Driver"

sourceSets {
  main {
    java {
      srcDir 'src/'
    }
    resources {
      srcDir 'res/'
    }
  }
}

dependencies {
  compile project(':nrjavaserial')
  compile fileTree(dir: 'nrjavaserial', include: ['*.jar'])
  compile 'org.knowm.xchart:xchart:3.0.1'
}

repositories {
  mavenCentral()
  maven {
    url "https://oss.sonatype.org/content/repositories/snapshots"
  }
}

task make() {
  try {
    Class.forName('com.apple.eawt.FullScreenUtilities');
  } catch (ClassNotFoundException e) {
    sourceSets.main.java.exclude('**/OSXCalibrationScreen.java');
  }
  tasks.build.execute()
}

compileJava {
	options.compilerArgs << "-XDignore.symbol.file=true"
	options.fork = true
	options.forkOptions.executable = 'javac'
}
